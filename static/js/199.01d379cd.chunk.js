"use strict";(self.webpackChunkgoit_react_hw_08_phonebook=self.webpackChunkgoit_react_hw_08_phonebook||[]).push([[199],{3199:function(e,n,t){t.r(n),t.d(n,{default:function(){return F}});var r=t(2791),o=t(4420),a="ContactFormAdd_form__JfbOl",l=t(3634),u=t(184),i=function(){var e=(0,o.I0)();return(0,u.jsx)(u.Fragment,{children:(0,u.jsxs)("form",{onSubmit:function(n){n.preventDefault();var t=n.currentTarget.elements.name.value.trim(),r=n.currentTarget.elements.number.value.trim();""===t||""===r?alert("\u0414\u0440\u0443\u0436\u0435 \u043f\u043e\u043b\u0435 \u043d\u0435 \u043c\u043e\u0436\u0435 \u0431\u0443\u0442\u0438 \u043f\u0443\u0441\u0442\u0438\u043c"):(e((0,l.uK)({name:t,number:r})),n.currentTarget.reset())},className:a,children:[(0,u.jsx)("label",{children:(0,u.jsx)("input",{placeholder:"Name",type:"text",name:"name",required:!0})}),(0,u.jsx)("label",{children:(0,u.jsx)("input",{placeholder:"Phone number",type:"tel",name:"number",required:!0})}),(0,u.jsx)("button",{type:"submit",children:"Add Contact"})]})})},c=t(3553),s=function(e){return e.contacts.items},d=function(e){return e.contacts.isLoading},m=function(e){return e.contacts.error},f=function(e){return e.filter.filter},h=function(e){return e.modal.showModal},b=function(e){return e.modal.item},x=(0,c.P1)(s,f,(function(e,n){return e.filter((function(e){return e.name.toLowerCase().includes(n.toLowerCase())}))})),_=function(){return{contacts:(0,o.v9)(s),isLoading:(0,o.v9)(d),error:(0,o.v9)(m),showModal:(0,o.v9)(h),filter:(0,o.v9)(f),contactsAndFilter:(0,o.v9)(x),itemModal:(0,o.v9)(b)}},j=t(4270),p="ContactsList_list__box__no-st",v="ContactsList_list__mmE3Y",g=t(2184),w=function(){var e=(0,o.I0)(),n=_(),t=n.contacts,r=n.contactsAndFilter;return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("h3",{children:["Your phonebook has ",t.length," contacts"]}),r.length>0?(0,u.jsxs)("h3",{children:["contacts found ",r.length," "]}):(0,u.jsx)("h3",{children:"Contact not found"}),(0,u.jsx)("ul",{className:p,children:r.map((function(n){return(0,u.jsxs)("li",{className:v,children:[(0,u.jsxs)("p",{children:[(0,u.jsx)("b",{children:n.name})," ",(0,u.jsx)("b",{children:n.number})]}),(0,u.jsx)("button",{type:"button",onClick:function(){return function(n){e((0,g.$)(n))}(n)},children:"Edit"}),(0,u.jsx)("button",{type:"button",onClick:function(){return t=n.id,void e((0,l.GK)(t));var t},children:"Delete"})]},n.id)}))})]})},C=t(4164),k="Modal_modal__backdrop__Bvr-f",y="Modal_modal__box__YRX0y",N="Modal_form__FEIVf",E="Modal_label__A0H75",L=document.querySelector("#modal__root"),M=function(){var e=_().itemModal,n=(0,o.I0)();(0,r.useEffect)((function(){var e=function(e){if("Escape"===e.code)return n((0,g.$)({id:null,name:null,number:null}))};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}));return(0,C.createPortal)((0,u.jsx)("div",{className:k,onClick:function(e){e.currentTarget===e.target&&n((0,g.$)({id:null,name:null,number:null}))},children:(0,u.jsx)("div",{className:y,children:(0,u.jsxs)("form",{className:N,onSubmit:function(t){t.preventDefault();var r=t.currentTarget.elements.name.value.trim(),o=t.currentTarget.elements.number.value.trim(),a={id:e.id,name:r,number:o};""===r||""===o?alert("\u0414\u0440\u0443\u0436\u0435 \u043f\u043e\u043b\u0435 \u043d\u0435 \u043c\u043e\u0436\u0435 \u0431\u0443\u0442\u0438 \u043f\u0443\u0441\u0442\u0438\u043c"):n((0,l.uJ)(a))},autoComplete:"off",children:[(0,u.jsxs)("label",{className:E,children:["Name",(0,u.jsx)("input",{type:"text",name:"name",defaultValue:e.name,autoComplete:"name"})]}),(0,u.jsxs)("label",{className:E,children:["Number",(0,u.jsx)("input",{type:"phone",name:"number",defaultValue:e.number,autoComplete:"phone"})]}),(0,u.jsx)("button",{type:"submit",children:"Edit contact"})]})})}),L)},F=function(){var e=(0,o.I0)(),n=_(),t=n.isLoading,a=n.showModal;return(0,r.useEffect)((function(){e((0,l.yF)())}),[e]),(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(j.q,{children:(0,u.jsx)("title",{children:"Your contacts"})}),(0,u.jsx)(i,{}),(0,u.jsx)("div",{children:t&&"Request in progress..."}),a&&(0,u.jsx)(M,{}),(0,u.jsx)(w,{})]})}}}]);
//# sourceMappingURL=199.01d379cd.chunk.js.map