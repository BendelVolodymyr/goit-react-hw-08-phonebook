"use strict";(self.webpackChunkgoit_react_hw_08_phonebook=self.webpackChunkgoit_react_hw_08_phonebook||[]).push([[519],{519:function(e,n,t){t.r(n),t.d(n,{default:function(){return I}});var r=t(2791),a=t(4420),l="ContactFormAdd_form__JfbOl",o=t(3634),c=t(184),i=function(){var e=(0,a.I0)();return(0,c.jsx)(c.Fragment,{children:(0,c.jsx)("div",{className:l,children:(0,c.jsx)("div",{children:(0,c.jsxs)("form",{onSubmit:function(n){n.preventDefault();var t=n.currentTarget.elements.name.value.trim(),r=n.currentTarget.elements.number.value.trim();""===t||""===r?alert("\u0414\u0440\u0443\u0436\u0435 \u043f\u043e\u043b\u0435 \u043d\u0435 \u043c\u043e\u0436\u0435 \u0431\u0443\u0442\u0438 \u043f\u0443\u0441\u0442\u0438\u043c"):(e((0,o.uK)({name:t,number:r})),n.currentTarget.reset())},className:l,children:[(0,c.jsx)("label",{children:(0,c.jsx)("input",{placeholder:"Name",type:"text",name:"name",required:!0})}),(0,c.jsx)("label",{children:(0,c.jsx)("input",{placeholder:"Phone number",type:"tel",name:"number",required:!0})}),(0,c.jsx)("button",{type:"submit",children:"Add Contact"})]})})})})},s=t(3553),u=function(e){return e.contacts.items},d=function(e){return e.contacts.isLoading},m=function(e){return e.contacts.error},h=function(e){return e.filter.filter},f=function(e){return e.modal.showModal},x=function(e){return e.modal.item},j=(0,s.P1)(u,h,(function(e,n){return e.filter((function(e){return e.name.toLowerCase().includes(n.toLowerCase())}))})),b=function(){return{contacts:(0,a.v9)(u),isLoading:(0,a.v9)(d),error:(0,a.v9)(m),showModal:(0,a.v9)(f),filter:(0,a.v9)(h),contactsAndFilter:(0,a.v9)(j),itemModal:(0,a.v9)(x)}},v=t(4270),_="ContactsList_list__box__no-st",p="ContactsList_list__mmE3Y",g=t(2184),C=function(){var e=(0,a.I0)(),n=b(),t=n.contacts,r=n.contactsAndFilter;return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("h3",{children:["Your phonebook has ",t.length," contacts"]}),r.length>0?(0,c.jsxs)("h3",{children:["contacts found ",r.length," "]}):(0,c.jsx)("h3",{children:"Contact not found"}),(0,c.jsx)("ul",{className:_,children:r.map((function(n){return(0,c.jsxs)("li",{className:p,children:[(0,c.jsxs)("p",{children:[(0,c.jsx)("b",{children:n.name})," ",(0,c.jsx)("b",{children:n.number})]}),(0,c.jsx)("button",{type:"button",onClick:function(){return function(n){e((0,g.$)(n))}(n)},children:"Edit"}),(0,c.jsx)("button",{type:"button",onClick:function(){return t=n.id,void e((0,o.GK)(t));var t},children:"Delete"})]},n.id)}))})]})},w=t(4164),y="Modal_modal__backdrop__Bvr-f",N="Modal_modal__box__YRX0y",k="Modal_form__FEIVf",F="Modal_label__A0H75",E=document.querySelector("#modal__root"),L=function(){var e=b().itemModal,n=(0,a.I0)();(0,r.useEffect)((function(){var e=function(e){if("Escape"===e.code)return n((0,g.$)({id:null,name:null,number:null}))};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}));return(0,w.createPortal)((0,c.jsx)("div",{className:y,onClick:function(e){e.currentTarget===e.target&&n((0,g.$)({id:null,name:null,number:null}))},children:(0,c.jsx)("div",{className:N,children:(0,c.jsxs)("form",{className:k,onSubmit:function(t){t.preventDefault();var r=t.currentTarget.elements.name.value.trim(),a=t.currentTarget.elements.number.value.trim(),l={id:e.id,name:r,number:a};""===r||""===a?alert("\u0414\u0440\u0443\u0436\u0435 \u043f\u043e\u043b\u0435 \u043d\u0435 \u043c\u043e\u0436\u0435 \u0431\u0443\u0442\u0438 \u043f\u0443\u0441\u0442\u0438\u043c"):n((0,o.uJ)(l))},autoComplete:"off",children:[(0,c.jsxs)("label",{className:F,children:["Name",(0,c.jsx)("input",{type:"text",name:"name",defaultValue:e.name,autoComplete:"name"})]}),(0,c.jsxs)("label",{className:F,children:["Number",(0,c.jsx)("input",{type:"phone",name:"number",defaultValue:e.number,autoComplete:"phone"})]}),(0,c.jsx)("button",{type:"submit",children:"Edit contact"})]})})}),E)},M=t(4808),T=function(){var e=(0,a.I0)(),n=b().filter;return(0,c.jsxs)("div",{children:[(0,c.jsx)("h2",{children:"Filter"}),(0,c.jsx)("label",{children:(0,c.jsx)("input",{type:"text",placeholder:"Find contacts by name...",value:n,onChange:function(n){e((0,M.T)(n.target.value))}})})]})},I=function(){var e=(0,a.I0)(),n=b(),t=n.isLoading,l=n.showModal;return(0,r.useEffect)((function(){e((0,o.yF)())}),[e]),(0,c.jsx)(c.Fragment,{children:(0,c.jsxs)("div",{className:"contact",children:[(0,c.jsx)(v.q,{children:(0,c.jsx)("title",{children:"Your contacts"})}),(0,c.jsx)(i,{}),(0,c.jsx)(T,{}),(0,c.jsx)("div",{className:"contact",children:t&&"Request in progress..."}),l&&(0,c.jsx)(L,{}),(0,c.jsx)(C,{})]})})}}}]);
//# sourceMappingURL=519.fd99de5f.chunk.js.map